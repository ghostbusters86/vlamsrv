var App={params:{},loadScript:function(e){var t=$.Deferred(),n=document.getElementById("script");return n.async="async",n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(e,a){n.readyState&&!/loaded|complete/.test(n.readyState)||(a?t.reject():t.resolve())},n.onerror=function(){t.reject()},t.promise()},loadClass:function(e,t,n){window[e]?n.apply():$.getScript(baseURL+"user/"+t).done(n)},loadPage:function(e){var t=$.extend({clsName:"",url:"",script:!0,callback:function(){}},e),n=baseURL+"user/"+t.url;history.pushState(null,t.clsName,n),window[t.clsName]?(window[t.clsName].show(),t.callback.call()):t.script?$("#script").load(n,{isLoadScript:!0},t.callback):$("#content").load(n,{isLoadScript:!0})},clearContent:function(){if("undefined"!=typeof tinymce&&tinymce.editors&&tinymce.editors.length>0)for(var e=tinymce.editors.length-1;e>=0;e--)tinymce.editors[e].remove();$("#content").empty()},permalink:function(e){var t="";return empty(e)||(t=e.replace(/ /g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"").toLowerCase()),t},reloadsecure:function(){var e=$(".securimage");e.length>0&&e.each(function(){var t=$(this).attr("src"),n=t.indexOf("?")<=0?t.length:t.indexOf("?"),a=t.substring(0,n);e.attr("src",a+"?_dc="+Math.random())})},notification:function(e){"function"!=typeof Notification?console.log("Notification function not exists"):"granted"===Notification.permission?App.notificationSend(e):Notification.requestPermission().then(function(t){"denied"!==t?"default"!==t?"granted"===t&&App.notificationSend(e):console.log("The permission request was dismissed."):console.log("Permission wasn not granted. Allow a retry.")})}};$(document).ready(function(){$(".js-menu").click(function(e){var t=$(this).attr("data-class"),n=$(this).attr("data-url"),a=$(this).attr("data-script"),i=$(this).attr("data-ajax"),o=$(this).attr("data-dialog")||"N";empty(n)||"#"==n||("Y"==i?("Y"!=o&&App.clearContent(),App.loadPage({clsName:t,url:n,script:a})):parent.location=baseURL+"user/"+n,$(window).width()<=1024&&!$(".menu").hasClass("hide-menu")&&$("#toggle-menu").click())}),$(".menus > li > a").click(function(){$(".menus > li > a").not($(this)).next("ul").slideUp(200),$(".menus > li > a").not($(this)).removeClass("active"),$(this).hasClass("active")?($(this).next("ul").slideUp(200),$(this).removeClass("active"),$(this).find(".arrow").removeClass("fa-chevron-down"),$(this).find(".arrow").addClass("fa-chevron-right")):($(this).next("ul").slideDown(200),$(this).addClass("active"),$(this).find(".arrow").removeClass("fa-chevron-right"),$(this).find(".arrow").addClass("fa-chevron-down"))}),$(".btn-logout").click(function(){$.ajax({dataType:"json",type:"POST",url:baseURL+"user/logout",success:function(e){window.location=e.url}})}),$(".btn-kembali").click(function(){parent.location=baseURL+"user"}),$("#menu-toggle").click(function(){$("#menus").hasClass("show")?$("#menus").removeClass("show"):$("#menus").addClass("show")}),$(document).click(function(e){var t=$(e.target),n=$(".tableLeft .navbar-collapse.in, .tableRight .navbar-collapse.in");t.hasClass("navbar-toggle")||t.parents(".navbar-collapse").hasClass("collapse in")||n.closest(".navbar").find(".navbar-toggle").trigger("click")}),$(window).scroll(function(){$(document).scrollTop()>=1?$("html").css({"touch-action":"auto"}):$("html").css({"touch-action":"pan-down"})}),$(window).resize(function(){$(this).width()<=1024?($(".menu").addClass("hide-menu"),$(".content").addClass("hide-menu"),$(".soal-navigasi").addClass("hide-menu"),$(".header-logo-text").addClass("hide-menu"),$("#toggle-menu").off("click"),$("#toggle-menu").click(function(){$(".menu").toggleClass("hide-menu"),$(".header-logo-text").toggleClass("hide-menu")})):($(".menu").removeClass("hide-menu"),$(".content").removeClass("hide-menu"),$(".soal-navigasi").removeClass("hide-menu"),$(".header-logo-text").removeClass("hide-menu"),$("#toggle-menu").off("click"),$("#toggle-menu").click(function(){$(".menu").toggleClass("hide-menu"),$(".content").toggleClass("hide-menu"),$(".soal-navigasi").toggleClass("hide-menu"),$(".header-logo-text").toggleClass("hide-menu")}));var e=$(".menu").outerHeight(),t=$(".profile").outerHeight();$(".side-menu").slimScroll({height:e-t})}),$(window).resize(),Imat.init()});